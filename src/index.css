:root{
  --bg:#0f1115;
  --bg-elev:#151922;
  --text:#e5e7eb;
  --muted:#9ca3af;
  --accent:#3b82f6;
  --page-gap:25px;
}

/* ===== Base ===== */
*{box-sizing:border-box}
html,body,#root{height:100%}
html{scroll-behavior:smooth}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Helvetica Neue",Arial,"Noto Sans","Apple Color Emoji","Segoe UI Emoji";
  background:var(--bg);
  color:var(--text);
}
a{color:var(--accent);text-decoration:none}
a:hover{text-decoration:underline}
h1{font-size:clamp(28px,5vw,48px);margin:0 0 8px}
p{color:var(--muted);margin:0}
section{scroll-margin-top:96px}

/* ===== Utilidades rápidas ===== */
.btn{display:inline-block;padding:10px 14px;border-radius:10px;border:1px solid #2a384f;background:var(--accent);color:#fff;font-weight:600}
.btn:hover{filter:brightness(1.05);text-decoration:none}
.btn.ghost{background:transparent;color:var(--text)}
.btn.sm{padding:8px 12px;font-weight:500}
.chip{font-size:12px;padding:4px 8px;border-radius:999px;border:1px solid #273244}
.grid{display:grid;gap:20px;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));margin-top:16px}

/* ===== Layout principal ===== */
.layout{
  max-width:1200px;
  margin:24px auto;
  padding:0 20px;
  display:grid;
  grid-template-columns:320px minmax(0,1fr);
  gap:24px;
}

/* ===== Panel (card general) ===== */
.panel{
  background:var(--bg-elev);
  border:1px solid #1f2937;
  border-radius:24px;
  box-shadow:0 6px 18px rgba(0,0,0,.25);
  overflow:visible;
  position:relative;
  margin-bottom:var(--page-gap);
}
.panel-header{
  position:relative;display:flex;align-items:flex-start;gap:12px;
  background:var(--bg-elev);
  border-top-left-radius:20px;border-top-right-radius:20px;
  padding:12px 16px 8px;
}
.title-inline{margin:0;font-size:clamp(22px,4vw,28px);position:relative}
.title-inline::after{content:"";display:block;width:48px;height:4px;border-radius:999px;background:var(--accent);margin-top:6px}
.panel-body{padding:20px}

/* ===== Tabs (arriba en desktop, abajo en mobile) ===== */
.tabs-rail{
  position:absolute;top:-10px;right:12px;
  background:linear-gradient(180deg,#1a2130,#15161a);
  border:1px solid #273244;border-radius:14px;padding:6px 10px;z-index:60;
  box-shadow:0 8px 22px rgba(0,0,0,.6);
}
.tabs-group{display:flex;gap:10px;align-items:center}
.tab{padding:8px 12px;border-radius:10px;font-size:14px;color:var(--muted);border:1px solid transparent}
.tab:hover{color:var(--text);border-color:#2a384f;text-decoration:none}
.tab.is-active{color:var(--text);background:#0f141d;border-color:#2a384f}

/* ===== Sidebar (estilos base del card) ===== */
.sidecard{
  background:var(--bg-elev);
  border:1px solid #1f2937;
  border-radius:24px;
  box-shadow:0 6px 18px rgba(0,0,0,.25);
  padding:20px;
}
.avatar-wrap{display:grid;place-items:center;margin:4px 0 12px}
.avatar-img{width:150px;height:150px;border-radius:16px;object-fit:cover;border:1px solid #243043;box-shadow:0 8px 24px rgba(0,0,0,.35)}
.name{text-align:center;margin:10px 0 4px;font-size:22px}
.subtitle{text-align:center;margin:0 0 12px;color:var(--muted);font-size:14px}
.divider{border:none;border-top:1px solid #212938;margin:14px 0}
.info-list{list-style:none;padding:0;margin:0;display:grid;gap:23px}
.info-row{display:grid;grid-template-columns:44px 1fr;align-items:center;gap:10px}
.icon-box{width:44px;height:44px;display:grid;place-items:center;border-radius:12px;background:#0f141d;border:1px solid #243043;color:var(--accent)}
.row-label{color:var(--muted);font-size:12px;text-transform:uppercase;letter-spacing:.4px;margin-bottom:2px}
.info-row a{color:var(--text)}
.info-row a:hover{color:var(--accent)}
.socials{display:flex;gap:10px;justify-content:center;margin-top:12px}
.icon-btn{width:44px;height:44px;display:grid;place-items:center;border-radius:12px;border:1px solid #273244;background:transparent;color:var(--text);transition:transform .08s,background .15s,color .15s,border-color .15s}
.icon-btn:hover{background:#0f141d;border-color:#2a384f;color:var(--accent);transform:translateY(-1px)}

/* ===== Desktop (≥901px) ===== */
@media (min-width:901px){
  /* layout de 2 columnas */
  .layout{grid-template-columns:320px minmax(0,1fr)}
  /* sidebar fijo */
  .sidecard{position:sticky;top:16px;height:fit-content;max-height:calc(100dvh - 32px);overflow:auto;scrollbar-gutter:stable;z-index:5}
  /* tabs arriba */
  .tabs-rail{position:absolute;inset:auto 12px auto auto;transform:none;width:auto}
  body{padding-bottom:0}
  /* details siempre abierto y sin summary */
  .sidecollapsible[open]{display:block}
  .sidecollapsible-trigger{display:none}
}

/* ===== Mobile (≤900px) ===== */
@media (max-width:900px){
  /* 1 columna, todo centrado */
  .layout{
    grid-template-columns:1fr;
    justify-items:center;
    align-items:start;
  }
  .layout > *{ width: min(92vw, 820px); }
  .panel{margin-bottom:16px}

  /* bottom nav */
  .tabs-rail{
    position:fixed;inset:auto 0 10px 0;left:50%;transform:translateX(-50%);
    width:clamp(260px,92vw,560px);padding:8px 10px;border-radius:14px;
    box-shadow:0 12px 30px rgba(0,0,0,.55);z-index:2000;
  }
  .tabs-group{justify-content:space-between;width:100%}
  .tab{flex:1 1 auto;text-align:center;padding:10px 8px;border-radius:12px;font-size:13px}
  body{padding-bottom:80px}
  @supports(padding:max(0px)){ body{padding-bottom:max(80px,env(safe-area-inset-bottom))} }

  /* === Details/summary: header compacto visible === */
  .sidecollapsible{overflow:hidden;width:min(100%,820px);margin:0 auto}
  .sidecollapsible-trigger{
     list-style:none;display:flex;align-items:center;justify-content:space-between;gap:12px;
     padding:12px 14px;background:#0f141d;border:1px solid #243043;border-radius:18px;cursor:pointer;user-select:none;
  }
  .sidecollapsible-trigger::-webkit-details-marker{display:none}
  .trigger-left{display:flex;align-items:center;gap:10px}
  .avatar-mini{width:32px;height:32px;border-radius:8px;object-fit:cover;border:1px solid #243043}
  .name-mini{font-weight:600}
  .subtitle-mini{color:var(--muted);font-size:12px}
  .chevron{color:var(--muted);transition:transform .18s}
  .sidecollapsible[open] > .sidecollapsible-trigger .chevron{transform:rotate(180deg)}

  /* === Cuando está CERRADO: ocultar el card === */
  .sidecollapsible:not([open]) .sidecard{display:none}

  /* === Cuando está ABIERTO: mostrar versión COMPACTA del card === */
  .sidecard{
    position:static;max-height:none;overflow:visible;margin:10px auto 12px;
    padding:14px;border-radius:18px;
    animation:slideDown .18s ease both;
  }
  @keyframes slideDown{from{opacity:0;transform:translateY(-6px)}to{opacity:1;transform:translateY(0)}}

  /* compactaciones específicas */
  .avatar-wrap{margin:0 0 10px}
  .avatar-img{width:88px;height:88px;border-radius:12px}
  .name{font-size:20px;margin-top:8px}
  .subtitle{font-size:12.5px}
  .divider{margin:12px 0}
  .info-list{gap:14px}
  .info-row{grid-template-columns:36px 1fr;gap:8px}
  .icon-box{width:36px;height:36px;border-radius:10px}
  .row-label{font-size:11px}
  .socials{margin-top:10px;gap:8px}
  .icon-btn{width:40px;height:40px;border-radius:10px}
}

/* ===== Extra compacto ≤480px ===== */
@media (max-width:480px){
  .grid{grid-template-columns:1fr}
  .layout > *{width:92vw}
  .btn{padding:12px 14px;border-radius:12px}
}

/* ====== MOBILE: usar SOLO el card que está dentro del <details> ====== */
@media (max-width: 900px){
  /* Por defecto, oculto cualquier .sidecard */
  .sidecard{ display:none !important; }

  /* Cuando el <details> está ABIERTO, muestro su .sidecard */
  .sidecollapsible[open] .sidecard{
    display:block !important;
    position: static;
    margin: 10px auto 12px;
    padding: 14px;
    width: min(92vw, 820px);
    max-width: 820px;
    border-radius: 18px;
    animation: slideDown .18s ease both;
  }

  /* Header compacto visible siempre en mobile */
  .sidecollapsible-trigger{ display:flex !important; }

  /* Compacto el contenido SOLO cuando está abierto */
  .sidecollapsible[open] .avatar-wrap{ margin: 0 0 10px; }
  .sidecollapsible[open] .avatar-img{ width:88px; height:88px; border-radius:12px; }
  .sidecollapsible[open] .name{ font-size:20px; margin-top:8px; }
  .sidecollapsible[open] .subtitle{ font-size:12.5px; }
  .sidecollapsible[open] .divider{ margin:12px 0; }
  .sidecollapsible[open] .info-list{ gap:14px; }
  .sidecollapsible[open] .info-row{ grid-template-columns:36px 1fr; gap:8px; }
  .sidecollapsible[open] .icon-box{ width:36px; height:36px; border-radius:10px; }
  .sidecollapsible[open] .row-label{ font-size:11px; }
  .sidecollapsible[open] .socials{ margin-top:10px; gap:8px; }
  .sidecollapsible[open] .icon-btn{ width:40px; height:40px; border-radius:10px; }

  @keyframes slideDown{
    from{ opacity:0; transform:translateY(-6px); }
    to  { opacity:1; transform:translateY(0); }
  }
}

/* ====== DESKTOP: sidebar normal (sin tocar nada más) ====== */
@media (min-width: 901px){
  /* El summary no se usa en desktop */
  .sidecollapsible-trigger{ display:none !important; }
  /* El card del details se muestra como siempre, sticky por tus reglas base */
}

/* ===== FIX FINAL: compacto real del sidebar en mobile ===== */
@media (max-width: 900px) {
  /* 1) Si el details está CERRADO: NO se ve el card */
  .sidecollapsible:not([open]) .sidecard {
    display: none !important;
  }

  /* 2) Abierto: mostrar el card y compactarlo de verdad */
  .sidecollapsible[open] .sidecard {
    display: block !important;
    padding: 14px !important;
    border-radius: 18px !important;
    margin: 10px auto 12px !important;
  }

  /* Avatar y textos más chicos */
  .sidecollapsible[open] .sidecard .avatar-img {
    width: 88px !important;
    height: 88px !important;
    border-radius: 12px !important;
  }
  .sidecollapsible[open] .sidecard .name {
    font-size: 20px !important;
    margin-top: 8px !important;
  }
  .sidecollapsible[open] .sidecard .subtitle {
    font-size: 12.5px !important;
  }

  .sidecollapsible[open] .sidecard .divider {
    margin: 12px 0 !important;
  }

  /* Filas más compactas */
  .sidecollapsible[open] .sidecard .info-list {
    gap: 14px !important;
  }
  .sidecollapsible[open] .sidecard .info-row {
    grid-template-columns: 36px 1fr !important;
    gap: 8px !important;
  }
  .sidecollapsible[open] .sidecard .icon-box {
    width: 36px !important;
    height: 36px !important;
    border-radius: 10px !important;
  }
  .sidecollapsible[open] .sidecard .row-label {
    font-size: 11px !important;
  }
  .sidecollapsible[open] .sidecard .socials {
    margin-top: 10px !important;
    gap: 8px !important;
  }
  .sidecollapsible[open] .sidecard .icon-btn {
    width: 40px !important;
    height: 40px !important;
    border-radius: 10px !important;
  }

  /* El header compacto SIEMPRE visible en mobile */
  .sidecollapsible-trigger { 
    display: flex !important; 
  }
}

/* Desktop: ocultar el summary; card grande normal */
@media (min-width: 901px){
  .sidecollapsible-trigger { display: none !important; }
}

